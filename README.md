Exchanger

Описание проекта

Exchanger — это микросервис для работы с обменом данных о криптовалютах. Проект включает в себя реализацию GRPC сервера с использованием PostgreSQL для хранения данных и поддержку распределённого трейсинга с помощью Jaeger.

Функциональность

Управление данными криптовалют.

GRPC API для взаимодействия с клиентами.

Поддержка трейсинга через Jaeger для анализа производительности.

Логирование на основе Zap.

Линтер для проверки качества кода (golangci-lint).

Установка и запуск

Зависимости

Перед началом работы убедитесь, что установлены следующие компоненты:

Go >= 1.20

Docker

docker-compose

PostgreSQL

Сборка и запуск

Склонируйте репозиторий:

git clone https://studentgit.kata.academy/gk/exchanger.git
cd exchanger

Сборка бинарного файла:

make build

Запуск unit-тестов:

make test

Сборка Docker-образа:

make docker-build

Запуск приложения с использованием Docker Compose:

make run

Линтинг кода:

make lint

Конфигурация

Конфигурация приложения задаётся через файл конфигурации. Основные параметры включают:

Настройки подключения к базе данных (PostgreSQL):

DB_HOST

DB_USER

DB_PASS

DB_NAME

DB_PORT

URL для подключения к Jaeger: http://jaeger:14268/api/traces

Порт для запуска GRPC сервера: 50051

Пример конфигурационного файла находится в каталоге cmd/config.

Архитектура

Основные компоненты:

GRPC сервер:

Поддержка Health Check через grpc_health_v1.

Реализация GRPC API для обмена данными криптовалют.

База данных:

Используется PostgreSQL для хранения данных.

Автоматическая миграция схемы с помощью GORM.

Трейсинг:

Реализован с использованием OpenTelemetry и Jaeger.

Логирование:

Логи создаются с использованием библиотеки Zap.

Разработка

Команды Makefile

build — Сборка бинарного файла.

test — Запуск тестов.

docker-build — Сборка Docker-образа.

run — Запуск приложения через Docker Compose.

lint — Запуск линтера для проверки кода.

Технологии

Go: Язык программирования для реализации микросервиса.

PostgreSQL: Хранилище данных.

GRPC: API для взаимодействия с клиентами.

OpenTelemetry: Инструмент для мониторинга и трейсинга.

Jaeger: Система распределённого трейсинга.

Zap: Логирование.